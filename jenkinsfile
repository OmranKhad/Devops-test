pipeline {
  agent any
  stages {

    stage('Git') {
       steps {
        echo 'Pulling...' 
        git branch: 'omran-khd',
        url : 'https://github.com/OmranKhad/Devops-test.git'
      }
    }
      
    stage('MVN Clean') {
       steps {
        sh "mvn clean"      
      }
    }

      stage('MVN Compile') {
       steps {
        sh "mvn compile"      
      }
    }
    
    stage('MVN Package') {
      steps {
        sh "mvn package"      
      }
    }
	stage('Sonarqube Analysis') {
         steps {
         withSonarQubeEnv() {
         sh "mvn sonar:sonar \
         -Dsonar.projectKey=tpfoyer \
	 -Dsonar.projectKey=tpfoyer \
         -Dsonar.host.url=http://192.168.50.50:9000"
}
}
}



}
}
